var gdjs;(function(i){const o=GlobalPIXIModule.PIXI;class s{constructor(t,e){this._object=t;const a=e.getGame().getBitmapFontManager().obtainBitmapFont(t._bitmapFontResourceName,t._textureAtlasResourceName);this._pixiObject=new o.BitmapText(t._text,{fontName:a.font,fontSize:a.size}),e.getLayer("").getRenderer().addRendererObject(this._pixiObject,t.getZOrder()),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this.updateAlignment(),this.updateTextContent(),this.updateAngle(),this.updateOpacity(),this.updateScale(),this.updateWrappingWidth(),this.updateTint()}getRendererObject(){return this._pixiObject}onDestroy(){this._object._runtimeScene.getGame().getBitmapFontManager().releaseBitmapFont(this._pixiObject.fontName),this._pixiObject.destroy()}getFontSize(){return this._pixiObject.fontSize}updateFont(){const t=this._object._runtimeScene.getGame().getBitmapFontManager().obtainBitmapFont(this._object._bitmapFontResourceName,this._object._textureAtlasResourceName);this._object._runtimeScene.getGame().getBitmapFontManager().releaseBitmapFont(this._pixiObject.fontName),this._pixiObject.fontName=t.font,this._pixiObject.fontSize=t.size,this.updatePosition()}updateTint(){this._pixiObject.tint=i.rgbToHexNumber(this._object._tint[0],this._object._tint[1],this._object._tint[2]),this._pixiObject.dirty=!0}getTint(){return this._object._tint[0]+";"+this._object._tint[1]+";"+this._object._tint[2]}updateScale(){this._pixiObject.scale.set(Math.max(this._object._scale,0)),this.updatePosition()}getScale(){return Math.max(this._pixiObject.scale.x,this._pixiObject.scale.y)}updateWrappingWidth(){this._object._wordWrap?(this._pixiObject.maxWidth=this._object._wrappingWidth/this._object._scale,this._pixiObject.dirty=!0):(this._pixiObject.maxWidth=0,this._pixiObject.dirty=!0),this.updatePosition()}updateTextContent(){this._pixiObject.text=this._object._text,this.updatePosition()}updateAlignment(){this._pixiObject.align=this._object._align,this.updatePosition()}updatePosition(){this._pixiObject.position.x=this._object.x+this.getWidth()/2,this._pixiObject.position.y=this._object.y+this.getHeight()/2}updateAngle(){this._pixiObject.rotation=i.toRad(this._object.angle)}updateOpacity(){this._pixiObject.alpha=this._object._opacity/255}getWidth(){return this._pixiObject.textWidth*this.getScale()}getHeight(){return this._pixiObject.textHeight*this.getScale()}}i.BitmapTextRuntimeObjectPixiRenderer=s,i.BitmapTextRuntimeObjectRenderer=s})(gdjs||(gdjs={}));
//# sourceMappingURL=bitmaptextruntimeobject-pixi-renderer.js.map
